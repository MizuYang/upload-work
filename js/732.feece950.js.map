{"version":3,"file":"js/732.feece950.js","mappings":"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","sources":["webpack://vue-template/./src/views/HomeView.vue","webpack://vue-template/./src/components/UploadImg.vue","webpack://vue-template/./src/components/ProgressBar.vue","webpack://vue-template/./src/components/ProgressBar.vue?6a3a","webpack://vue-template/./src/components/PreviewImg.vue","webpack://vue-template/./src/components/PreviewImg.vue?09e6","webpack://vue-template/./src/components/CropImg.vue","webpack://vue-template/./src/components/CropImg.vue?4b79","webpack://vue-template/./src/components/CropSize.vue","webpack://vue-template/./src/components/CropSize.vue?9889","webpack://vue-template/./src/components/SimpleUploader.vue","webpack://vue-template/./src/components/SimpleUploader.vue?6cf0","webpack://vue-template/./src/components/UploadImg.vue?def6","webpack://vue-template/./src/views/HomeView.vue?1da1"],"sourcesContent":["<template>\n  <section class=\"my-3\">\n    <h2>上傳 + 驗證</h2>\n    <UploadImg :size=\"size\" :type=\"type\" :width=\"width\" :height=\"height\"\n     @upload=\"upload\"></UploadImg>\n  </section>\n\n  <hr />\n\n  <section class=\"my-3\">\n    <h2>測試：props 參數,<code>size:165800</code> (B), <code>w:150</code>, <code>h:150</code></h2>\n    <UploadImg :size=\"165800\" :type=\"type\" :width=\"150\" :height=\"150\" @upload=\"upload\"></UploadImg>\n  </section>\n\n  <hr />\n\n  <section class=\"my-3\">\n    <h2>測試裁切</h2>\n    <UploadImg :size=\"1658000\" :type=\"type\" :width=\"1500\" :height=\"1500\" @upload=\"upload\"></UploadImg>\n  </section>\n</template>\n\n<script>\nimport UploadImg from '@/components/UploadImg.vue'\nexport default {\n\n  components: {\n    UploadImg\n  },\n\n  data () {\n    return {\n      size: 31457280,\n      type: ['png', 'jpg', 'svg', 'jpeg', 'bmp', 'gif', 'heic', 'heif'],\n      width: 400,\n      height: 400,\n      file: {}\n      // previewShow: false, //* 圖片預覽\n      // previewImgUrl: ''\n    }\n  },\n\n  methods: {\n    upload (file) {\n      console.log(file)\n    }\n  }\n\n}\n</script>\n","<template>\r\n  <label for=\"file\"></label>\r\n  <input type=\"file\" id=\"file\" name=\"file\" @change=\"getFileInfo\" :accept=\"accept\">\r\n\r\n  <!-- 進度條 -->\r\n  <div v-if=\"uploadSuccess\" class=\"my-2\">\r\n    <ProgressBar ref=\"progressBar\"></ProgressBar>\r\n  </div>\r\n  <!-- 上傳 成功/失敗 回饋 -->\r\n  <div class=\"my-3\">\r\n    <p ref=\"uploadResult\"></p>\r\n  </div>\r\n  <!-- 檔案預覽 -->\r\n  <div v-if=\"uploadSuccess\" class=\"my-3\">\r\n    <PerviewImg :imgUrl=\"file.perviewImgUrl\" ref=\"preview\"></PerviewImg>\r\n  </div>\r\n  <!-- 裁切模式、裁切尺寸 -->\r\n    <div v-if=\"uploadSuccess\" class=\"my-5\">\r\n      <CropSize @getCropSize=\"getCropSize\" @getCropMode=\"getCropMode\"></CropSize>\r\n    </div>\r\n  <!-- 圖片裁切 -->\r\n  <div v-if=\"uploadSuccess\" class=\"my-5\">\r\n    <div class=\"my-3\">\r\n      <CropImg :imgUrl=\"file.perviewImgUrl\" :cropW=\"cropSize.width\" :cropH=\"cropSize.height\" :fixedSize=\"fixedSize\" @getCropUrl=\"getCropUrl\" @getOriginUrl=\"getOriginUrl\"></CropImg>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"my-5\">\r\n    <SimpleUploader ref=\"uploaderRef\" @uploaderSuccess=\"uploaderSuccess\"></SimpleUploader>\r\n  </div>\r\n\r\n  <div v-if=\"uploadSuccess\" class=\"my-5\">\r\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"$emit('upload', file)\">確認上傳</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProgressBar from '@/components/ProgressBar.vue' //* 進度條\r\nimport PerviewImg from '@/components/PreviewImg.vue' //* 圖片預覽\r\nimport CropImg from '@/components/CropImg.vue' //* 圖片裁切\r\nimport CropSize from '@/components/CropSize.vue' //* 裁切尺寸設定\r\nimport heic2any from 'heic2any' //* 轉檔\r\nimport SimpleUploader from '@/components/SimpleUploader.vue'\r\nexport default {\r\n\r\n  components: {\r\n    ProgressBar,\r\n    PerviewImg,\r\n    CropImg,\r\n    CropSize,\r\n    SimpleUploader\r\n  },\r\n\r\n  props: {\r\n    size: {\r\n      type: Number,\r\n      default: 31457280\r\n      // required: true\r\n    },\r\n    type: {\r\n      type: Array,\r\n      default: ['png', 'jpg', 'svg', 'jpeg', 'bmp', 'gif'] // eslint-disable-line\r\n    },\r\n    //* 解析度\r\n    width: {\r\n      type: Number,\r\n      default: 500\r\n    },\r\n    height: {\r\n      type: Number,\r\n      default: 500\r\n    }\r\n  },\r\n\r\n  emits: ['upload'],\r\n\r\n  computed: {\r\n    uploadSuccess () {\r\n      return this.status === this.uploadStatus.success\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      file: {},\r\n      reader: '',\r\n      imgType: ['png', 'jpg', 'svg', 'jpeg', 'bmp', 'gif', 'heic', 'heif'],\r\n      status: 0,\r\n      uploadStatus: {\r\n        null: 0,\r\n        success: 1,\r\n        fail: 2\r\n      },\r\n      accept: '.jpg, .png, .svg, .gif, .jpeg', //* 上傳時能顯示的檔案類型\r\n      resolutionValidate: false,\r\n      cropSize: {},\r\n      fixedSize: false,\r\n      tempPreviewImgUrl: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    getFileInfo (e) {\r\n      if (!e) { return }\r\n      const file = e.target.files[0]\r\n      const type = file.name.split('.').pop() //* 取得檔案類型\r\n      const size = file.size\r\n      //* 驗證類型、大小，一個驗證失敗就中斷\r\n      const typeValidate = this.checkType(type, file)\r\n      if (!typeValidate) return\r\n      //* 若為圖檔，驗證寬高(解析度)\r\n      if (this.imgType.includes(type)) {\r\n        this.checkResolution(file).then((res) => {\r\n          console.log(res)\r\n          // if (!res) return\r\n        })\r\n        if (type === 'heic' || type === 'heif') {\r\n          this.checkHeicResolution()\r\n        }\r\n      }\r\n      const sizeValidate = this.checkSize(size)\r\n      if (!sizeValidate) return\r\n\r\n      if (type === 'heic' || type === 'heif') {\r\n        this.heic2Jpeg(file) //* 轉檔\r\n      }\r\n      //* 驗證通過\r\n      this.successFeedback(e)\r\n      this.getProgressBar()\r\n      //* 取得圖片資訊\r\n      const name = file.name.split('.')[0]\r\n      const lastModifiedDate = file.lastModifiedDate.toLocaleString()\r\n      const uploadDate = new Date().toLocaleString()\r\n      const newFileName = this.getNewFileName()\r\n      const perviewImgUrl = this.getPreviewImgUrl(e)\r\n      this.file = { uploadDate, name, newFileName, size, type, lastModifiedDate, perviewImgUrl, file }\r\n      console.log(this.file)\r\n    },\r\n    getProgressBar () {\r\n      this.reader.addEventListener('progress', (event) => {\r\n        if (event.loaded && event.total) {\r\n          // 計算完成百分比\r\n          const percent = (event.loaded / event.total) * 100\r\n          // 將值設定為進度元件\r\n          const pBarVal = this.$refs.progressBar?.$refs.progress\r\n          const pBarLabel = this.$refs.progressBar?.$refs.progressLabel\r\n          if (pBarVal && pBarLabel) {\r\n            pBarVal.value = percent\r\n            pBarLabel.innerHTML = Math.round(percent) + '%'\r\n          }\r\n        }\r\n      })\r\n    },\r\n    getNewFileName () {\r\n      const random = `${Math.random()}${Math.random()}`\r\n      const name = random.split('.')\r\n      name.shift()\r\n      const newFileName = name.join('').slice(0, 30) //* 取30位隨機碼\r\n      return newFileName\r\n    },\r\n    getCropSize (cropSize) {\r\n      this.cropSize.width = cropSize.width\r\n      this.cropSize.height = cropSize.height\r\n    },\r\n    getCropMode (cropType) {\r\n      if (cropType === '自由裁切') {\r\n        this.fixedSize = false\r\n      } else if (cropType === '限制裁切寬高') {\r\n        this.fixedSize = true\r\n      }\r\n    },\r\n    getPreviewImgUrl (e) {\r\n      const file = e.target.files[0]\r\n      const perviewImgUrl = URL.createObjectURL(file)\r\n      this.tempPreviewImgUrl = perviewImgUrl\r\n      return perviewImgUrl\r\n    },\r\n    getCropUrl (cropUrl) {\r\n      this.file.perviewImgUrl = cropUrl\r\n    },\r\n    getOriginUrl () {\r\n      this.file.perviewImgUrl = this.tempPreviewImgUrl\r\n    },\r\n    clearPreviewImgUrl () {\r\n      this.file.perviewImgUrl = ''\r\n    },\r\n    //* 若圖檔為 heic 或 heif 則轉檔為 JPG\r\n    heic2Jpeg (file) {\r\n      heic2any({\r\n        blob: file, //* 将heic转换成一个buffer数组的图片\r\n        toType: 'image/jpeg', //* 要转化成具体的图片格式，可以是png/gif\r\n        quality: 1 //* 图片的质量，参数在0-1之间\r\n      }).then((heicToJpgResult) => {\r\n        // 后续上传逻辑\r\n        this.file.perviewImgUrl = URL.createObjectURL(heicToJpgResult)\r\n      })\r\n    },\r\n    //* 檢查圖片解析度\r\n    checkResolution (file) {\r\n      return new Promise((resolve, reject) => {\r\n        this.resolutionValidate = false\r\n        this.reader.onload = (e) => {\r\n          const data = e.target.result //* 取得 Base64\r\n          // 加载图片获取图片真实宽度和高度\r\n          const image = new Image()\r\n          image.onload = () => {\r\n            const width = image.width\r\n            const height = image.height\r\n            const result = width < this.width && height < this.height\r\n            if (!result) {\r\n              this.failFeedback(`圖片寬高須低於${this.width}*${this.height}！`)\r\n              this.resolutionValidate = false\r\n              resolve(false)\r\n            } else if (result) {\r\n              this.resolutionValidate = true\r\n              resolve(true)\r\n            }\r\n          }\r\n          if (this.resolutionValidate) { return } //* 驗證失敗中斷程式碼\r\n          image.src = data\r\n        }\r\n        this.reader.readAsDataURL(file)\r\n      })\r\n    },\r\n    //* 檢查 Heic 檔的解析度\r\n    checkHeicResolution () {\r\n      setTimeout(() => {\r\n        const width = this.$refs.preview.$refs.previewImg.naturalWidth\r\n        const height = this.$refs.preview.$refs.previewImg.naturalHeight\r\n        const result = width < this.width && height < this.height\r\n        if (!result) {\r\n          this.failFeedback(`圖片寬高須低於${this.width}*${this.height}！`)\r\n          this.resolutionValidate = false\r\n        } else if (result) {\r\n          this.resolutionValidate = true\r\n        }\r\n      }, 500)\r\n    },\r\n    checkType (type, file) {\r\n      const result = this.type.includes(type)\r\n      if (!result) {\r\n        this.failFeedback(`請上傳 ${this.type} 的檔案，您上傳的是 ${type}檔`)\r\n        return false\r\n      } else if (result) {\r\n        return true\r\n      }\r\n    },\r\n    checkSize (size) {\r\n      const result = size < this.size //* 檔案符合大小\r\n      if (!result) {\r\n        const validateMB = (this.size / 1024 / 1024).toFixed(1)\r\n        const sizeMB = (size / 1024 / 1024).toFixed(1)\r\n        this.failFeedback(`檔案大小不得高於 ${validateMB}MB！您的檔案大小為 ${sizeMB} MB`)\r\n        return false\r\n      } else if (result) {\r\n        return true\r\n      }\r\n    },\r\n    //* 上傳回饋\r\n    failFeedback (content) {\r\n      this.status = this.uploadStatus.fail\r\n      this.clearPreviewImgUrl()\r\n      this.$refs.uploadResult.textContent = content\r\n      this.$refs.uploadResult.className = 'fail text-danger fst-italic'\r\n    },\r\n    successFeedback (e) {\r\n      this.status = this.uploadStatus.success\r\n      this.$refs.uploadResult.textContent = '上傳成功！'\r\n      this.$refs.uploadResult.className = 'success text-success'\r\n    }\r\n  },\r\n  mounted () {\r\n    this.reader = new FileReader()\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang='scss' scope>\r\n.fail::before {\r\n  content: '';\r\n  border: 7px solid red;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  margin-right: 5px;\r\n}\r\n.success::before {\r\n  content: '';\r\n  border: 7px solid green;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n","<template>\r\n  <progress ref=\"progress\" value=\"0\" max=\"100\"> </progress>\r\n  <label ref=\"progressLabel\" for=\"progress\"></label>\r\n</template>\r\n","import { render } from \"./ProgressBar.vue?vue&type=template&id=d77840bc\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\work\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n   <input type=\"button\" @click=\"previewShow = !previewShow\" :value=\"previewShow ? '關閉圖片預覽': '開啟圖片預覽'\" class=\"btn btn-primary\" />\r\n\r\n   <section v-show=\"previewShow && imgUrl\" class=\"my-3\">\r\n    <h3>檔案預覽</h3>\r\n    <img :src=\"imgUrl\" alt=\"上傳的圖片預覽\" ref=\"previewImg\">\r\n   </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n  props: {\r\n    imgUrl: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      previewShow: false\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import { render } from \"./PreviewImg.vue?vue&type=template&id=c5c4678c\"\nimport script from \"./PreviewImg.vue?vue&type=script&lang=js\"\nexport * from \"./PreviewImg.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\work\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <input type=\"button\" @click=\"cropShow = !cropShow\" :value=\"cropShow ? '關閉裁切': '開啟裁切'\" class=\"btn btn-primary\">\r\n\r\n    <div v-if=\"cropShow\" class=\"row height my-3\">\r\n      <div class=\"col-5\">\r\n        <h4>裁切前</h4>\r\n        <VueCropper\r\n          ref=\"cropper\"\r\n          :img=\"imgUrl\"\r\n          :outputSize=\"option.size\"\r\n          :outputType=\"option.outputType\"\r\n          :info=\"true\"\r\n          :full=\"option.full\"\r\n          :fixed=\"option.fixed\"\r\n          :fixedNumber=\"option.fixedNumber\"\r\n          :can-move=\"option.canMove\"\r\n          :can-move-box=\"option.canMoveBox\"\r\n          :fixed-box=\"option.fixedBox\"\r\n          :original=\"option.original\"\r\n          :auto-crop=\"option.autoCrop\"\r\n          :auto-crop-width=\"option.autoCropWidth\"\r\n          :auto-crop-height=\"option.autoCropHeight\"\r\n          :center-box=\"option.centerBox\"\r\n          :high=\"option.high\"\r\n          mode=\"contain\"\r\n          :max-img-size=\"option.max\"\r\n          @crop-moving=\"cropMoving\"\r\n          @img-load=\"imgLoad\"\r\n          @realTime=\"realTime\"\r\n        >\r\n        </VueCropper>\r\n      </div>\r\n      <div class=\"col-2 my-auto\">\r\n        <button class=\"btn btn-primary\" type=\"button\" @click=\"getCropImgUrl\">裁切</button>\r\n        <div class=\"my-2\">\r\n          <button v-if=\"cropImgUrl\" class=\"btn btn-primary\" type=\"button\" @click=\"getCropUrl\" ref=\"confirmBtn\">確認裁切</button>\r\n        </div>\r\n        <div class=\"my-2\">\r\n          <button class=\"btn btn-primary btn-secondary d-none\" type=\"button\"\r\n          @click=\"getOriginUrl\" ref=\"originBtn\">恢復裁切</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-5 m-auto\">\r\n        <h4>裁切後</h4>\r\n        <img v-if=\"cropImgUrl\" :src=\"cropImgUrl\" alt=\"裁切後的圖片\">\r\n      </div>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { VueCropper } from 'vue-cropper'\r\nimport 'vue-cropper/dist/index.css'\r\nexport default {\r\n\r\n  components: {\r\n    VueCropper\r\n  },\r\n\r\n  props: {\r\n    imgUrl: {\r\n      type: String\r\n    },\r\n    cropW: {\r\n      type: Number,\r\n      default: 160\r\n    },\r\n    cropH: {\r\n      type: Number,\r\n      default: 150\r\n    },\r\n    fixedSize: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  emits: ['getCropUrl', 'getOriginUrl'],\r\n\r\n  watch: {\r\n    cropW () {\r\n      this.option.autoCropWidth = this.cropW\r\n    },\r\n    cropH () {\r\n      this.option.autoCropHeight = this.cropH\r\n    },\r\n    fixedSize () {\r\n      this.option.fixedBox = this.fixedSize\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      option: {\r\n        // img: 'https://avatars2.githubusercontent.com/u/15681693?s=460&v=4',\r\n        size: 1,\r\n        full: false, //* 是否输出原图比例的截图\r\n        outputType: 'jpg', //* 裁剪生成图片的格式\r\n        canMove: false, //* 圖片拖動\r\n        fixedBox: this.fixedSize, //* 改變截圖框大小\r\n        original: false, //* 上传图片按照原始比例渲染\r\n        canMoveBox: true, //* 截圖框可否拖動\r\n        autoCrop: true, //* 截圖框顯示\r\n        //* 只有自动截图开启 宽度高度才生效\r\n        autoCropWidth: this.cropW, //* 默認生成的寬\r\n        autoCropHeight: this.cropH, //* 默認生成的高\r\n        centerBox: true, //* 截圖框是否被限制在圖片裡面\r\n        high: true,\r\n        max: 99999,\r\n        fixed: false //* 截圖框等比例縮放\r\n        // fixedNumber: [1, 1] //* 截图框的宽高比例\r\n      },\r\n      cropImgUrl: '',\r\n      // originUrl: '',\r\n      cropShow: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //* 取得裁切圖片\r\n    getCropImgUrl () {\r\n      this.$nextTick(() => {\r\n        this.$refs.cropper.getCropData(cropImgUrl => {\r\n          this.cropImgUrl = cropImgUrl\r\n        })\r\n      })\r\n    },\r\n    //* 確認裁切\r\n    getCropUrl () {\r\n      this.$refs.originBtn.classList.remove('d-none')\r\n      this.$emit('getCropUrl', this.cropImgUrl)\r\n    },\r\n    //* 恢復裁切\r\n    getOriginUrl () {\r\n      this.$refs.originBtn.classList.add('d-none')\r\n      this.$emit('getOriginUrl')\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.originUrl = this.imgUrl\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang='scss' scope>\r\n.height {\r\n  height: 300px;\r\n}\r\n</style>\r\n","import { render } from \"./CropImg.vue?vue&type=template&id=3a4adf18\"\nimport script from \"./CropImg.vue?vue&type=script&lang=js\"\nexport * from \"./CropImg.vue?vue&type=script&lang=js\"\n\nimport \"./CropImg.vue?vue&type=style&index=0&id=3a4adf18&lang=scss&scope=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\work\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <!-- <input type=\"radio\" id=\"radioA\" name=\"radio\" value=\"自由裁切\"\r\n     v-model=\"cropType\">\r\n    <label for=\"radioA\">自由裁切</label>\r\n    <br />\r\n    <input type=\"radio\" id=\"radioB\" name=\"radio\" value=\"限制裁切寬高\"\r\n     v-model=\"cropType\">\r\n    <label for=\"radioB\">限制裁切寬高</label> -->\r\n    <h3>裁切模式</h3>\r\n    <select name=\"\" id=\"\" v-model=\"cropType\">\r\n      <option value=\"自由裁切\">自由裁切</option>\r\n      <option value=\"限制裁切寬高\">限制裁切寬高</option>\r\n    </select>\r\n    <div class=\"my-3\" v-if=\"cropType==='限制裁切寬高'\">\r\n      <p class=\"fs-5\">輸入希望裁切的圖片尺寸</p>\r\n      <label for=\"width\">寬：</label>\r\n      <input id=\"width\" type=\"number\" v-model=\"crop.width\"\r\n      placeholder=\"輸入裁切寬度\" style=\"width:120px\"\r\n      oninput=\"value=value.replace(/[^\\d]/g,'')\">\r\n      <br />\r\n      <label for=\"height\">高：</label>\r\n      <input id=\"height\" type=\"number\" v-model=\"crop.height\" placeholder=\"輸入裁切高度\" style=\"width:120px\" oninput=\"value=value.replace(/[^\\d]/g,'')\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n\r\n  emits: ['getCropSize', 'getCropMode'],\r\n\r\n  watch: {\r\n    crop: {\r\n      handler () {\r\n        this.$emit('getCropSize', this.crop)\r\n      },\r\n      deep: true\r\n    },\r\n    cropType () {\r\n      this.$emit('getCropMode', this.cropType)\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      crop: {\r\n        width: 160,\r\n        height: 150\r\n      },\r\n      cropType: '自由裁切'\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import { render } from \"./CropSize.vue?vue&type=template&id=27e67554\"\nimport script from \"./CropSize.vue?vue&type=script&lang=js\"\nexport * from \"./CropSize.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\work\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <uploader :options=\"options\" class=\"uploader-example\" :autoStart=\"true\" ref=\"uploader\"\r\n    @file-added=\"onFileAdded\"\r\n    @file-success=\"onFileSuccess\"\r\n    @file-progress=\"onFileProgress\"\r\n    @file-error=\"onFileError\">\r\n    <uploader-unsupport></uploader-unsupport>\r\n    <uploader-drop>\r\n      <p>將文件拖放到此處以上傳</p>\r\n      <uploader-btn>選擇檔案</uploader-btn>\r\n      <uploader-btn :attrs=\"attrs\" ref=\"img\">選擇圖片</uploader-btn>\r\n      <uploader-btn :directory=\"true\">選擇資料夾</uploader-btn>\r\n    </uploader-drop>\r\n    <uploader-list></uploader-list>\r\n  </uploader>\r\n\r\n  <!-- 圖片預覽 -->\r\n  <template v-if=\"previewImg.length > 0\">\r\n    <ul class=\"row row-cols-3 g-3 list-unstyled my-3\">\r\n      <li v-for=\"(img) in previewImg\" :key=\"img\">\r\n        <img :src=\"img\" alt=\"\" width=\"200\" height=\"200\">\r\n      <!-- 裁切 -->\r\n      <div class=\"my-3\">\r\n        <CropImg :imgUrl=\"img\" :cropW=\"150\" :cropH=\"160\" :fixedSize=\"false\" @getCropUrl=\"getCropUrl\" @getOriginUrl=\"getOriginUrl\"></CropImg>\r\n      </div>\r\n      </li>\r\n    </ul>\r\n  </template>\r\n\r\n</template>\r\n\r\n<script>\r\nimport SparkMD5 from 'spark-md5'\r\nimport heic2any from 'heic2any'\r\nimport CropImg from '@/components/CropImg.vue' //* 圖片裁切\r\nexport default {\r\n\r\n  components: {\r\n    CropImg\r\n  },\r\n\r\n  computed: {\r\n\r\n    previewImg () {\r\n      const imgUrlArr = []\r\n      //* 有檔案才執行\r\n      if (this.file.length === 0) return imgUrlArr\r\n      this.file.forEach(file => {\r\n        const type = file.name.split('.').pop()\r\n        //* 是圖片才設定預覽\r\n        if (this.imgType.includes(type)) {\r\n          //* 若是 Heic 檔就從 heic2Jpeg 來處理 Url\r\n          if (file.heic) {\r\n            console.log(file.url)\r\n            imgUrlArr.push(file.url)\r\n            return\r\n          }\r\n          const url = URL.createObjectURL(file.file)\r\n          imgUrlArr.push(url)\r\n        }\r\n      })\r\n      return imgUrlArr\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      file: [],\r\n      uploader: null,\r\n      options: {\r\n        // target: '//localhost:3000/upload', // '//jsonplaceholder.typicode.com/posts/',\r\n        target: '/', // 測試上傳\r\n        testChunks: true,\r\n        chunkSize: '2048000', // 切塊大小\r\n        maxChunkRetries: 3 // 最大自动失败重试上传次数\r\n      },\r\n      attrs: {\r\n        accept: 'image/*'\r\n      },\r\n      statusText: {\r\n        success: '成功了',\r\n        error: '出錯了',\r\n        uploading: '上傳中',\r\n        paused: '暫停中',\r\n        waiting: '等待中'\r\n      },\r\n      //* 驗證條件\r\n      imgType: ['png', 'jpg', 'svg', 'jpeg', 'bmp', 'gif', 'heic', 'heif'],\r\n      // imgType: [],\r\n      size: 153600\r\n      // width: 150,\r\n      // height: 150\r\n\r\n    }\r\n  },\r\n\r\n  //! 元件化\r\n  //! 完成其他需求，例：圖片裁切\r\n  //! 確認裁切、恢復裁切\r\n  //! 按確認上傳後取得 file 物件\r\n\r\n  methods: {\r\n    async onFileAdded (file) {\r\n      //* 檢查格式\r\n      const type = file.name.split('.').pop()\r\n      if (!this.imgType.includes(type)) {\r\n        const err = `請上傳正確的圖片格式！您上傳的是${type}檔`\r\n        file.cancel()\r\n        throw err\r\n      }\r\n      //* 檢查大小\r\n      const size = file.size\r\n      if (size > this.size) {\r\n        const err = `請上傳低於 ${this.size / 1024} Kb 的圖片`\r\n        file.cancel()\r\n        throw (err)\r\n      }\r\n      console.log(1)\r\n\r\n      //* 驗證寬高\r\n      if (type === 'heic' || type === 'heif') {\r\n        //* heic 先轉檔才取的到寬高，所以另外在這處理\r\n        await this.heic2Jpeg(file.file).then(url => {\r\n          console.log(2)\r\n          const img = new Image()\r\n          img.src = url\r\n          img.onload = () => {\r\n            if (img.width > this.width || img.height > this.height) {\r\n              file.cancel()\r\n              const err = `請上傳 ${this.width}*${this.height} 的圖片，您上傳的是${img.width}*${img.height}`\r\n              throw err\r\n            }\r\n          }\r\n        })\r\n      } else {\r\n        await this.getImgSize(file)\r\n          .then(img => {\r\n            console.log(2)\r\n            if (img.width > this.width || img.height > this.height) {\r\n              const err = `請上傳 ${this.width}*${this.height} 的圖片，您上傳的是${img.width}*${img.height}`\r\n              file.cancel()\r\n              throw err\r\n            }\r\n          })\r\n      }\r\n\r\n      console.log(3)\r\n\r\n      this.panelShow = true\r\n      this.computeMD5(file)\r\n      file.params = this.params\r\n      // Bus.$emit('fileAdded')\r\n    },\r\n    getImgSize (file) {\r\n      return new Promise((resolve, reject) => {\r\n        const url = URL.createObjectURL(file.file)\r\n        const img = new Image()\r\n        img.src = url\r\n        img.onload = function () {\r\n          const imgResolution = {}\r\n          imgResolution.height = img.naturalWidth\r\n          imgResolution.width = img.naturalHeight\r\n          resolve(imgResolution)\r\n        }\r\n      })\r\n    },\r\n    getRandomFileName () {\r\n      let text = ''\r\n      const randomLen = 30\r\n      const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n\r\n      for (let i = 0; i < randomLen; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n      }\r\n      return text\r\n    },\r\n    //* 若圖檔為 heic 或 heif 則轉檔為 JPG\r\n    heic2Jpeg (file) {\r\n      return new Promise((resolve, reject) => {\r\n        console.log(file)\r\n        const name = file.name\r\n        heic2any({\r\n          blob: file,\r\n          toType: 'image/jpeg',\r\n          quality: 1\r\n        }).then((heicToJpgResult) => {\r\n          const url = URL.createObjectURL(heicToJpgResult)\r\n          console.log('heicToJpgResult', heicToJpgResult)\r\n\r\n          //* 將 heic 轉成 jepg 檔後傳至 file\r\n          this.file.push(heicToJpgResult)\r\n          const fileLen = this.file.length\r\n          this.file[fileLen - 1].newFileName = this.getRandomFileName()\r\n          this.file[fileLen - 1].url = url\r\n          this.file[fileLen - 1].name = name\r\n          this.file[fileLen - 1].heic = true //* Heic 檔不在 previewImg 處理的依據\r\n          // 后续上传逻辑\r\n          resolve(url)\r\n        })\r\n      })\r\n    },\r\n    onFileProgress (rootFile, file, chunk) {\r\n      console.log(`上传中 ${file.name}，chunk：${chunk.startByte / 1024 / 1024} ~ ${chunk.endByte / 1024 / 1024}`)\r\n    },\r\n    onFileSuccess (rootFile, file, response, chunk) {\r\n      const isHeic = 'heic'\r\n      //* heic 會在 heic2Jpeg 傳到 file，而不會在這上傳\r\n      //* (因轉檔關係，轉檔後的檔案無法透過套件自動上傳)\r\n      if (file.name.includes(isHeic)) return\r\n\r\n      //* 如果沒被中斷上傳，才丟到 file\r\n      if (!file.aborted) {\r\n        this.file.push(file)\r\n        const fileLen = this.file.length\r\n        this.file[fileLen - 1].newFileName = this.getRandomFileName()\r\n      }\r\n\r\n      // const res = JSON.parse(response)\r\n      // // 服务器自定义的错误（即虽返回200，但是是错误的情况），这种错误是Uploader无法拦截的\r\n      // if (!res.result) {\r\n      //   this.$message({ message: res.message, type: 'error' })\r\n      //   // 文件状态设为“失败”\r\n      //   this.statusSet(file.id, 'failed')\r\n      //   return\r\n      // }\r\n      // // 如果服务端返回需要合并\r\n      // if (res.needMerge) {\r\n      //   // 文件状态设为“合并中”\r\n      //   this.statusSet(file.id, 'merging')\r\n      // //   api.mergeSimpleUpload({\r\n      // //     tempName: res.tempName,\r\n      // //     fileName: file.name,\r\n      // //     ...file.params\r\n      // //   }).then(res => {\r\n      // //     // 文件合并成功\r\n      // //     Bus.$emit('fileSuccess')\r\n      // //     this.statusRemove(file.id)\r\n      // //   }).catch(e => {})\r\n      // //   // 不需要合并\r\n      // // } else {\r\n      // //   Bus.$emit('fileSuccess')\r\n      // //   console.log('上传成功')\r\n      // }\r\n    },\r\n    onFileError (rootFile, file, response, chunk) {\r\n      this.$message({\r\n        message: response,\r\n        type: 'error'\r\n      })\r\n    },\r\n    //* 计算md5，实现断点续传及秒传\r\n    computeMD5 (file) {\r\n      const fileReader = new FileReader()\r\n      const time = new Date().getTime()\r\n      const blobSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice\r\n      let currentChunk = 0\r\n      const chunkSize = 10 * 1024 * 1000\r\n      const chunks = Math.ceil(file.size / chunkSize)\r\n      const spark = new SparkMD5.ArrayBuffer()\r\n      // 文件状态设为\"计算MD5\"\r\n      this.statusSet(file.id, 'md5')\r\n      file.pause()\r\n      loadNext()\r\n      fileReader.onload = e => {\r\n        spark.append(e.target.result)\r\n        if (currentChunk < chunks) {\r\n          currentChunk++\r\n          loadNext()\r\n          // 实时展示MD5的计算进度\r\n          // this.$nextTick(() => {\r\n          //   $(`.myStatus_${file.id}`).text('校验MD5 ' + ((currentChunk / chunks) * 100).toFixed(0) + '%')\r\n          // })\r\n        } else {\r\n          const md5 = spark.end()\r\n          this.computeMD5Success(md5, file)\r\n          console.log(`MD5计算完毕：${file.name} \\nMD5：${md5} \\n分片：${chunks} 大小:${file.size} 用时：${new Date().getTime() - time} ms`)\r\n        }\r\n      }\r\n      fileReader.onerror = function () {\r\n        this.error(`文件${file.name}读取出错，请检查该文件`)\r\n        file.cancel()\r\n      }\r\n      function loadNext () {\r\n        const start = currentChunk * chunkSize\r\n        const end = ((start + chunkSize) >= file.size) ? file.size : start + chunkSize\r\n        fileReader.readAsArrayBuffer(blobSlice.call(file.file, start, end))\r\n      }\r\n    },\r\n    computeMD5Success (md5, file) {\r\n      file.uniqueIdentifier = md5\r\n      file.resume()\r\n      this.statusRemove(file.id)\r\n    },\r\n    fileListShow () {\r\n      // const $list = $('#global-uploader .file-list')\r\n      // if ($list.is(':visible')) {\r\n      //   $list.slideUp()\r\n      //   this.collapse = true\r\n      // } else {\r\n      //   $list.slideDown()\r\n      //   this.collapse = false\r\n      // }\r\n    },\r\n    close () {\r\n      this.uploader.cancel()\r\n      this.panelShow = false\r\n    },\r\n    //* 新增的自定义的状态: 'md5'、'transcoding'、'failed'\r\n    statusSet (id, status) {\r\n      const statusMap = {\r\n        md5: {\r\n          text: '校验MD5',\r\n          bgc: '#fff'\r\n        },\r\n        merging: {\r\n          text: '合并中',\r\n          bgc: '#e2eeff'\r\n        },\r\n        transcoding: {\r\n          text: '转码中',\r\n          bgc: '#e2eeff'\r\n        },\r\n        failed: {\r\n          text: '上传失败',\r\n          bgc: '#e2eeff'\r\n        }\r\n      }\r\n      console.log(statusMap)\r\n      console.log('id:', id)\r\n      console.log('status:', status)\r\n\r\n      // this.$nextTick(() => {\r\n      //   $(`<p class=\"myStatus_${id}\"></p>`).appendTo(`.file_${id} .uploader-file-status`).css({\r\n      //     position: 'absolute',\r\n      //     top: '0',\r\n      //     left: '0',\r\n      //     right: '0',\r\n      //     bottom: '0',\r\n      //     zIndex: '1',\r\n      //     backgroundColor: statusMap[status].bgc\r\n      //   }).text(statusMap[status].text)\r\n      // })\r\n    },\r\n    statusRemove (id) {\r\n      // this.$nextTick(() => {\r\n      //   $(`.myStatus_${id}`).remove()\r\n      // })\r\n    },\r\n    error (msg) {\r\n      this.$notify({\r\n        title: '错误',\r\n        message: msg,\r\n        type: 'error',\r\n        duration: 2000\r\n      })\r\n    },\r\n    getCropUrl (cropUrl, index) {\r\n      // console.log(cropUrl)\r\n      // console.log(index)\r\n      console.log(this.file[0])\r\n      this.file[0].url = cropUrl\r\n      // this.file.perviewImgUrl = cropUrl\r\n    },\r\n    getOriginUrl () {\r\n      this.file.perviewImgUrl = this.tempPreviewImgUrl\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    // const uploader = this.$refs.uploader\r\n    // console.log(uploader)\r\n    this.$nextTick(() => {\r\n      // window.uploader = this.uploader.uploader\r\n    })\r\n    setInterval(() => {\r\n      // console.log(this.file)\r\n    }, 2500)\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n  .uploader-example {\r\n    width: 880px;\r\n    padding: 15px;\r\n    margin: 40px auto 0;\r\n    font-size: 12px;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, .4);\r\n  }\r\n  .uploader-example .uploader-btn {\r\n    margin-right: 4px;\r\n  }\r\n  .uploader-example .uploader-list {\r\n    max-height: 440px;\r\n    overflow: auto;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n  }\r\n</style>\r\n","import { render } from \"./SimpleUploader.vue?vue&type=template&id=30c251c8\"\nimport script from \"./SimpleUploader.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleUploader.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleUploader.vue?vue&type=style&index=0&id=30c251c8&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\work\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UploadImg.vue?vue&type=template&id=7f417670\"\nimport script from \"./UploadImg.vue?vue&type=script&lang=js\"\nexport * from \"./UploadImg.vue?vue&type=script&lang=js\"\n\nimport \"./UploadImg.vue?vue&type=style&index=0&id=7f417670&lang=scss&scope=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\work\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=34ed87de\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\psdk55052004\\\\Desktop\\\\work\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_2","_createVNode","_component_UploadImg","size","$data","type","width","height","onUpload","$options","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_8","for","ref","_hoisted_1","id","name","onChange","accept","_createElementBlock","_component_ProgressBar","_component_PerviewImg","imgUrl","perviewImgUrl","_component_CropSize","onGetCropSize","onGetCropMode","_component_CropImg","cropW","cropH","fixedSize","onGetCropUrl","onGetOriginUrl","_component_SimpleUploader","onUploaderSuccess","_ctx","onClick","value","max","script","__exports__","src","$props","alt","props","String","data","previewShow","_hoisted_4","_component_VueCropper","img","outputSize","outputType","info","full","fixed","fixedNumber","canMove","canMoveBox","fixedBox","original","autoCrop","autoCropWidth","autoCropHeight","centerBox","high","mode","onCropMoving","onImgLoad","onRealTime","_hoisted_9","components","VueCropper","Number","default","Boolean","emits","watch","this","option","cropImgUrl","cropShow","methods","getCropImgUrl","$nextTick","$refs","cropper","getCropData","getCropUrl","originBtn","classList","remove","$emit","getOriginUrl","add","mounted","originUrl","$event","_hoisted_7","placeholder","style","oninput","crop","handler","deep","cropType","_component_uploader","options","autoStart","onFileAdded","onFileSuccess","onFileProgress","onFileError","_component_uploader_unsupport","_component_uploader_drop","_component_uploader_btn","attrs","directory","_component_uploader_list","length","_Fragment","_renderList","key","CropImg","computed","previewImg","imgUrlArr","file","forEach","split","pop","imgType","includes","heic","console","log","url","push","URL","createObjectURL","uploader","target","testChunks","chunkSize","maxChunkRetries","statusText","success","error","uploading","paused","waiting","async","err","cancel","heic2Jpeg","then","Image","onload","getImgSize","panelShow","computeMD5","params","Promise","resolve","reject","imgResolution","naturalWidth","naturalHeight","getRandomFileName","text","randomLen","possible","i","charAt","Math","floor","random","heic2any","blob","toType","quality","heicToJpgResult","fileLen","newFileName","rootFile","chunk","startByte","endByte","response","isHeic","aborted","$message","message","fileReader","FileReader","time","Date","getTime","blobSlice","File","prototype","slice","mozSlice","webkitSlice","currentChunk","chunks","ceil","spark","SparkMD5","loadNext","start","end","readAsArrayBuffer","call","statusSet","pause","e","append","result","md5","computeMD5Success","onerror","uniqueIdentifier","resume","statusRemove","fileListShow","close","status","statusMap","bgc","merging","transcoding","failed","msg","$notify","title","duration","cropUrl","index","tempPreviewImgUrl","setInterval","ProgressBar","PerviewImg","CropSize","SimpleUploader","Array","uploadSuccess","uploadStatus","reader","null","fail","resolutionValidate","cropSize","getFileInfo","files","typeValidate","checkType","checkResolution","res","checkHeicResolution","sizeValidate","checkSize","successFeedback","getProgressBar","lastModifiedDate","toLocaleString","uploadDate","getNewFileName","getPreviewImgUrl","addEventListener","event","loaded","total","percent","pBarVal","progressBar","progress","pBarLabel","progressLabel","innerHTML","round","shift","join","getCropSize","getCropMode","clearPreviewImgUrl","image","failFeedback","readAsDataURL","setTimeout","preview","validateMB","toFixed","sizeMB","content","uploadResult","textContent","className","UploadImg","upload","render"],"sourceRoot":""}